const { Sequelize: { Model } } = require( 'sequelize' );
const sequelizePaginate = require( 'sequelize-paginate' );
const { PurchasedGiftcard: PurchasedGiftcardSchema } = require( '../schema' );

class PurchasedGiftcard extends Model {}

module.exports = sequelize => {

    PurchasedGiftcard.init( PurchasedGiftcardSchema, { sequelize, tableName: 'purchased_giftcards', underscored: true, timestamps: true } );
    PurchasedGiftcard.associate = models => {

        PurchasedGiftcard.belongsTo( models.MobikwikPaymentResponse, { foreignKey: 'paymentResponseReference' } );
        PurchasedGiftcard.belongsTo( models.User, { foreignKey: 'userId' } );

    };

    sequelizePaginate.paginate( PurchasedGiftcard );
    return PurchasedGiftcard;

};
