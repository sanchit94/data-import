const { Sequelize: { Model } } = require( 'sequelize' );
const { MobikwikPaymentResponse: MobikwikPaymentResponseSchema } = require( '../schema' );

class MobikwikPaymentResponse extends Model {}

module.exports = sequelize => {

    MobikwikPaymentResponse.init( MobikwikPaymentResponseSchema, { sequelize, tableName: 'mobikwik_payment_responses', underscored: true, timestamps: true } );
    MobikwikPaymentResponse.associate = models => {

        MobikwikPaymentResponse.belongsTo( models.Order, { foreignKey: 'orderId' } );
        MobikwikPaymentResponse.hasOne( models.PurchasedGiftcard, { foreignKey: 'paymentResponseReference' } );

    };

    return MobikwikPaymentResponse;

};
