const { Sequelize: { Model } } = require( 'sequelize' );
const { Finance: FinanceSchema } = require( '../schema' );

class Finance extends Model {}

module.exports = sequelize => {

    Finance.init( FinanceSchema, { sequelize, tableName: 'finances', underscored: true, timestamps: true } );
    Finance.associate = models => {

        Finance.belongsTo( models.Bank, { foreignKey: 'bankId' } );
        Finance.hasMany( models.OnlineOfferFinance, { foreignKey: 'financeId' } );

    };

    return Finance;

};
