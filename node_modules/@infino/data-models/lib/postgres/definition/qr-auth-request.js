const { Sequelize: { Model } } = require( 'sequelize' );
const { QrAuthRequest: QrAuthRequestSchema } = require( '../schema' );

class QrAuthRequest extends Model {}

module.exports = sequelize => {

    QrAuthRequest.init( QrAuthRequestSchema, { sequelize, tableName: 'qr_auth_requests', underscored: true, timestamps: true } );
    QrAuthRequest.associate = models => {

        QrAuthRequest.belongsTo( models.Session, { foreignKey: 'authenticatorSessionId' } );

    };

    return QrAuthRequest;

};
