const { Sequelize: { Model } } = require( 'sequelize' );
const sequelizePaginate = require( 'sequelize-paginate' );
const { UserOnlineOffer: UserOnlineOfferSchema } = require( '../schema' );

class UserOnlineOffer extends Model {}

module.exports = sequelize => {

    UserOnlineOffer.init( UserOnlineOfferSchema, { sequelize, tableName: 'user_online_offers', underscored: true, timestamps: true } );

    UserOnlineOffer.associate = models => {

        UserOnlineOffer.belongsTo( models.OnlineOffer, { foreignKey: 'onlineOfferId' } );
        UserOnlineOffer.belongsTo( models.User, { foreignKey: 'userId' } );

    };

    sequelizePaginate.paginate( UserOnlineOffer );

    return UserOnlineOffer;

};
