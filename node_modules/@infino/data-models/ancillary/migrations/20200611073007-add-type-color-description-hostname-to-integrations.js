const { DataTypes } = require( 'sequelize' );

module.exports = {

    up: queryInterface => Promise.all( [
        queryInterface.addColumn( 'integrations', 'type', {
            type: DataTypes.ENUM( // eslint-disable-line new-cap
                'FINTECH',
                'BANK',
                'PAYMENT_NETWORK',
            ),
            allowNull: false,
            defaultValue: 'FINTECH',
        } ),
        queryInterface.addColumn( 'integrations', 'color', {
            type: DataTypes.STRING,
            allowNull: false,
            defaultValue: '#FFFFFF',
        } ),
        queryInterface.addColumn( 'integrations', 'description', {
            type: DataTypes.STRING,
            allowNull: false,
            defaultValue: 'Offers are applicable on all Visa Cards.',
        } ),
        queryInterface.addColumn( 'integrations', 'host_name', {
            type: DataTypes.STRING,
            allowNull: false,
            defaultValue: 'olamoney.com',
        } ),
    ] ),

    down: queryInterface => Promise.all( [
        queryInterface.removeColumn( 'integrations', 'type' ),
        queryInterface.sequelize.query( 'DROP TYPE enum_integrations_type' ),
        queryInterface.removeColumn( 'integrations', 'color' ),
        queryInterface.removeColumn( 'integrations', 'description' ),
        queryInterface.removeColumn( 'integrations', 'host_name' ),
    ] )

};
